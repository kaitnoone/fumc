!function(e,i,s){"undefined"!=typeof module&&module.exports?module.exports=s():"function"==typeof define&&define.amd?define(i,s):e[i]=s()}(this,"bowser",function(){var B=!0;function t(s){function e(e){var i=s.match(e);return i&&1<i.length&&i[1]||""}function i(e){var i=s.match(e);return i&&1<i.length&&i[2]||""}var o,r=e(/(ipod|iphone|ipad)/i).toLowerCase(),n=!/like android/i.test(s)&&/android/i.test(s),t=/nexus\s*[0-6]\s*/i.test(s),a=!t&&/nexus\s*[0-9]+/i.test(s),d=/CrOS/.test(s),m=/silk/i.test(s),v=/sailfish/i.test(s),l=/tizen/i.test(s),c=/(web|hpw)(o|0)s/i.test(s),u=/windows phone/i.test(s),p=(/SamsungBrowser/i.test(s),!u&&/windows/i.test(s)),f=!r&&!m&&/macintosh/i.test(s),w=!n&&!v&&!l&&!c&&/linux/i.test(s),h=i(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),b=e(/version\/(\d+(\.\d+)?)/i),g=/tablet/i.test(s)&&!/tablet pc/i.test(s),y=!g&&/[^-]mobi/i.test(s),k=/xbox/i.test(s);/opera/i.test(s)?o={name:"Opera",opera:B,version:b||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(s)?o={name:"Opera",opera:B,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||b}:/SamsungBrowser/i.test(s)?o={name:"Samsung Internet for Android",samsungBrowser:B,version:b||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(s)?o={name:"NAVER Whale browser",whale:B,version:e(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(s)?o={name:"MZ Browser",mzbrowser:B,version:e(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(s)?o={name:"Opera Coast",coast:B,version:b||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(s)?o={name:"Focus",focus:B,version:e(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(s)?o={name:"Yandex Browser",yandexbrowser:B,version:b||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(s)?o={name:"UC Browser",ucbrowser:B,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(s)?o={name:"Maxthon",maxthon:B,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(s)?o={name:"Epiphany",epiphany:B,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(s)?o={name:"Puffin",puffin:B,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(s)?o={name:"Sleipnir",sleipnir:B,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(s)?o={name:"K-Meleon",kMeleon:B,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:u?(o={name:"Windows Phone",osname:"Windows Phone",windowsphone:B}).version=h?(o.msedge=B,h):(o.msie=B,e(/iemobile\/(\d+(\.\d+)?)/i)):/msie|trident/i.test(s)?o={name:"Internet Explorer",msie:B,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:d?o={name:"Chrome",osname:"Chrome OS",chromeos:B,chromeBook:B,chrome:B,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(s)?o={name:"Microsoft Edge",msedge:B,version:h}:/vivaldi/i.test(s)?o={name:"Vivaldi",vivaldi:B,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||b}:v?o={name:"Sailfish",osname:"Sailfish OS",sailfish:B,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(s)?o={name:"SeaMonkey",seamonkey:B,version:e(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(s)?(o={name:"Firefox",firefox:B,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(s)&&(o.firefoxos=B,o.osname="Firefox OS")):m?o={name:"Amazon Silk",silk:B,version:e(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(s)?o={name:"PhantomJS",phantom:B,version:e(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(s)?o={name:"SlimerJS",slimer:B,version:e(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(s)||/rim\stablet/i.test(s)?o={name:"BlackBerry",osname:"BlackBerry OS",blackberry:B,version:b||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:c?(o={name:"WebOS",osname:"WebOS",webos:B,version:b||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(s)&&(o.touchpad=B)):/bada/i.test(s)?o={name:"Bada",osname:"Bada",bada:B,version:e(/dolfin\/(\d+(\.\d+)?)/i)}:l?o={name:"Tizen",osname:"Tizen",tizen:B,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(s)?o={name:"QupZilla",qupzilla:B,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(s)?o={name:"Chromium",chromium:B,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(s)?o={name:"Chrome",chrome:B,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:n?o={name:"Android",version:b}:/safari|applewebkit/i.test(s)?(o={name:"Safari",safari:B},b&&(o.version=b)):r?(o={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},b&&(o.version=b)):o=/googlebot/i.test(s)?{name:"Googlebot",googlebot:B,version:e(/googlebot\/(\d+(\.\d+))/i)||b}:{name:e(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)},!o.msedge&&/(apple)?webkit/i.test(s)?(/(apple)?webkit\/537\.36/i.test(s)?(o.name=o.name||"Blink",o.blink=B):(o.name=o.name||"Webkit",o.webkit=B),!o.version&&b&&(o.version=b)):!o.opera&&/gecko\//i.test(s)&&(o.name=o.name||"Gecko",o.gecko=B,o.version=o.version||e(/gecko\/(\d+(\.\d+)?)/i)),o.windowsphone||!n&&!o.silk?!o.windowsphone&&r?(o[r]=B,o.ios=B,o.osname="iOS"):f?(o.mac=B,o.osname="macOS"):k?(o.xbox=B,o.osname="Xbox"):p?(o.windows=B,o.osname="Windows"):w&&(o.linux=B,o.osname="Linux"):(o.android=B,o.osname="Android");var x="";o.windows?x=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(e(/Windows ((NT|XP)( \d\d?.\d)?)/i)):o.windowsphone?x=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o.mac?x=(x=e(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):r?x=(x=e(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):n?x=e(/android[ \/-](\d+(\.\d+)*)/i):o.webos?x=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):o.blackberry?x=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):o.bada?x=e(/bada\/(\d+(\.\d+)*)/i):o.tizen&&(x=e(/tizen[\/\s](\d+(\.\d+)*)/i)),x&&(o.osversion=x);var S=!o.windows&&x.split(".")[0];return g||a||"ipad"==r||n&&(3==S||4<=S&&!y)||o.silk?o.tablet=B:(y||"iphone"==r||"ipod"==r||n||t||o.blackberry||o.webos||o.bada)&&(o.mobile=B),o.msedge||o.msie&&10<=o.version||o.yandexbrowser&&15<=o.version||o.vivaldi&&1<=o.version||o.chrome&&20<=o.version||o.samsungBrowser&&4<=o.version||o.whale&&1===O([o.version,"1.0"])||o.mzbrowser&&1===O([o.version,"6.0"])||o.focus&&1===O([o.version,"1.0"])||o.firefox&&20<=o.version||o.safari&&6<=o.version||o.opera&&10<=o.version||o.ios&&o.osversion&&6<=o.osversion.split(".")[0]||o.blackberry&&10.1<=o.version||o.chromium&&20<=o.version?o.a=B:o.msie&&o.version<10||o.chrome&&o.version<20||o.firefox&&o.version<20||o.safari&&o.version<6||o.opera&&o.version<10||o.ios&&o.osversion&&o.osversion.split(".")[0]<6||o.chromium&&o.version<20?o.c=B:o.x=B,o}var a=t("undefined"!=typeof navigator&&navigator.userAgent||"");function o(e){return e.split(".").length}function r(e,i){var s,o=[];if(Array.prototype.map)return Array.prototype.map.call(e,i);for(s=0;s<e.length;s++)o.push(i(e[s]));return o}function O(e){for(var s=Math.max(o(e[0]),o(e[1])),i=r(e,function(e){var i=s-o(e);return r((e+=new Array(i+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});0<=--s;){if(i[0][s]>i[1][s])return 1;if(i[0][s]!==i[1][s])return-1;if(0===s)return 0}}function n(e,i,s){var o=a;"string"==typeof i&&(s=i,i=void 0),void 0===i&&(i=!1),s&&(o=t(s));var r=""+o.version;for(var n in e)if(e.hasOwnProperty(n)&&o[n]){if("string"!=typeof e[n])throw new Error("Browser version in the minVersion map should be a string: "+n+": "+String(e));return O([r,e[n]])<0}return i}return a.test=function(e){for(var i=0;i<e.length;++i){var s=e[i];if("string"==typeof s&&s in a)return!0}return!1},a.isUnsupportedBrowser=n,a.compareVersions=O,a.check=function(e,i,s){return!n(e,i,s)},a._detect=t,a.detect=t,a}),jQuery(document).ready(function(e){"ontouchstart"in document.documentElement&&e("body").removeClass("no-touch"),bowser.msie&&11==bowser.version?e("body").addClass("ie-11"):bowser.safari&&e("body").addClass("safari")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd3Nlci5qcyIsInRoZW1lLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJuYW1lIiwiZGVmaW5pdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwidCIsImRldGVjdCIsInVhIiwiZ2V0Rmlyc3RNYXRjaCIsInJlZ2V4IiwibWF0Y2giLCJsZW5ndGgiLCJnZXRTZWNvbmRNYXRjaCIsInJlc3VsdCIsImlvc2RldmljZSIsInRvTG93ZXJDYXNlIiwiYW5kcm9pZCIsInRlc3QiLCJuZXh1c01vYmlsZSIsIm5leHVzVGFibGV0IiwiY2hyb21lb3MiLCJzaWxrIiwic2FpbGZpc2giLCJ0aXplbiIsIndlYm9zIiwid2luZG93c3Bob25lIiwid2luZG93cyIsIm1hYyIsImxpbnV4IiwiZWRnZVZlcnNpb24iLCJ2ZXJzaW9uSWRlbnRpZmllciIsInRhYmxldCIsIm1vYmlsZSIsInhib3giLCJvcGVyYSIsInZlcnNpb24iLCJzYW1zdW5nQnJvd3NlciIsIndoYWxlIiwibXpicm93c2VyIiwiY29hc3QiLCJmb2N1cyIsInlhbmRleGJyb3dzZXIiLCJ1Y2Jyb3dzZXIiLCJtYXh0aG9uIiwiZXBpcGhhbnkiLCJwdWZmaW4iLCJzbGVpcG5pciIsImtNZWxlb24iLCJvc25hbWUiLCJtc2VkZ2UiLCJtc2llIiwiY2hyb21lQm9vayIsImNocm9tZSIsInZpdmFsZGkiLCJzZWFtb25rZXkiLCJmaXJlZm94IiwiZmlyZWZveG9zIiwicGhhbnRvbSIsInNsaW1lciIsImJsYWNrYmVycnkiLCJ0b3VjaHBhZCIsImJhZGEiLCJxdXB6aWxsYSIsImNocm9taXVtIiwic2FmYXJpIiwiZ29vZ2xlYm90IiwiYmxpbmsiLCJ3ZWJraXQiLCJnZWNrbyIsImlvcyIsIm9zVmVyc2lvbiIsInMiLCJnZXRXaW5kb3dzVmVyc2lvbiIsInJlcGxhY2UiLCJvc3ZlcnNpb24iLCJvc01ham9yVmVyc2lvbiIsInNwbGl0IiwiY29tcGFyZVZlcnNpb25zIiwiYSIsImMiLCJ4IiwiYm93c2VyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiZ2V0VmVyc2lvblByZWNpc2lvbiIsIm1hcCIsImFyciIsIml0ZXJhdG9yIiwiaSIsIkFycmF5IiwicHJvdG90eXBlIiwiY2FsbCIsInB1c2giLCJ2ZXJzaW9ucyIsInByZWNpc2lvbiIsIk1hdGgiLCJtYXgiLCJjaHVua3MiLCJkZWx0YSIsImpvaW4iLCJjaHVuayIsInJldmVyc2UiLCJpc1Vuc3VwcG9ydGVkQnJvd3NlciIsIm1pblZlcnNpb25zIiwic3RyaWN0TW9kZSIsIl9ib3dzZXIiLCJicm93c2VyIiwiaGFzT3duUHJvcGVydHkiLCJFcnJvciIsIlN0cmluZyIsImJyb3dzZXJMaXN0IiwiYnJvd3Nlckl0ZW0iLCJjaGVjayIsIl9kZXRlY3QiLCJqUXVlcnkiLCJkb2N1bWVudCIsInJlYWR5IiwiJCIsImRvY3VtZW50RWxlbWVudCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiXSwibWFwcGluZ3MiOiJDQU1BLFNBQUFBLEVBQUFDLEVBQUFDLEdBQ0Esb0JBQUFDLFFBQUFBLE9BQUFDLFFBQUFELE9BQUFDLFFBQUFGLElBQ0EsbUJBQUFHLFFBQUFBLE9BQUFDLElBQUFELE9BQUFKLEVBQUFDLEdBQ0FGLEVBQUFDLEdBQUFDLElBSEEsQ0FJQUssS0FBQSxTQUFBLFdBS0EsSUFBQUMsR0FBQSxFQUVBLFNBQUFDLEVBQUFDLEdBRUEsU0FBQUMsRUFBQUMsR0FDQSxJQUFBQyxFQUFBSCxFQUFBRyxNQUFBRCxHQUNBLE9BQUFDLEdBQUEsRUFBQUEsRUFBQUMsUUFBQUQsRUFBQSxJQUFBLEdBR0EsU0FBQUUsRUFBQUgsR0FDQSxJQUFBQyxFQUFBSCxFQUFBRyxNQUFBRCxHQUNBLE9BQUFDLEdBQUEsRUFBQUEsRUFBQUMsUUFBQUQsRUFBQSxJQUFBLEdBR0EsSUFvQkFHLEVBcEJBQyxFQUFBTixFQUFBLHVCQUFBTyxjQUVBQyxHQURBLGdCQUFBQyxLQUFBVixJQUNBLFdBQUFVLEtBQUFWLEdBQ0FXLEVBQUEsb0JBQUFELEtBQUFWLEdBQ0FZ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QUcsaUJBRUFELEVBQUEsUUFBQUUsWUFBQSxZQUlBdEMsT0FBQS9CLE1BQUEsSUFBQStCLE9BQUE5QyxRQUNBa0YsRUFBQSxRQUFBRyxTQUFBLFNBQ0F2QyxPQUFBakIsUUFDQXFELEVBQUEsUUFBQUcsU0FBQSIsImZpbGUiOiJ0aGVtZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEJvd3NlciAtIGEgYnJvd3NlciBkZXRlY3RvclxuICogaHR0cHM6Ly9naXRodWIuY29tL2RlZC9ib3dzZXJcbiAqIE1JVCBMaWNlbnNlIHwgKGMpIER1c3RpbiBEaWF6IDIwMTVcbiAqL1xuXG4hZnVuY3Rpb24gKHJvb3QsIG5hbWUsIGRlZmluaXRpb24pIHtcbiAgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIG1vZHVsZS5leHBvcnRzID0gZGVmaW5pdGlvbigpXG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSBkZWZpbmUobmFtZSwgZGVmaW5pdGlvbilcbiAgZWxzZSByb290W25hbWVdID0gZGVmaW5pdGlvbigpXG59KHRoaXMsICdib3dzZXInLCBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgICogU2VlIHVzZXJhZ2VudHMuanMgZm9yIGV4YW1wbGVzIG9mIG5hdmlnYXRvci51c2VyQWdlbnRcbiAgICAqL1xuXG4gIHZhciB0ID0gdHJ1ZVxuXG4gIGZ1bmN0aW9uIGRldGVjdCh1YSkge1xuXG4gICAgZnVuY3Rpb24gZ2V0Rmlyc3RNYXRjaChyZWdleCkge1xuICAgICAgdmFyIG1hdGNoID0gdWEubWF0Y2gocmVnZXgpO1xuICAgICAgcmV0dXJuIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPiAxICYmIG1hdGNoWzFdKSB8fCAnJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZWNvbmRNYXRjaChyZWdleCkge1xuICAgICAgdmFyIG1hdGNoID0gdWEubWF0Y2gocmVnZXgpO1xuICAgICAgcmV0dXJuIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPiAxICYmIG1hdGNoWzJdKSB8fCAnJztcbiAgICB9XG5cbiAgICB2YXIgaW9zZGV2aWNlID0gZ2V0Rmlyc3RNYXRjaCgvKGlwb2R8aXBob25lfGlwYWQpL2kpLnRvTG93ZXJDYXNlKClcbiAgICAgICwgbGlrZUFuZHJvaWQgPSAvbGlrZSBhbmRyb2lkL2kudGVzdCh1YSlcbiAgICAgICwgYW5kcm9pZCA9ICFsaWtlQW5kcm9pZCAmJiAvYW5kcm9pZC9pLnRlc3QodWEpXG4gICAgICAsIG5leHVzTW9iaWxlID0gL25leHVzXFxzKlswLTZdXFxzKi9pLnRlc3QodWEpXG4gICAgICAsIG5leHVzVGFibGV0ID0gIW5leHVzTW9iaWxlICYmIC9uZXh1c1xccypbMC05XSsvaS50ZXN0KHVhKVxuICAgICAgLCBjaHJvbWVvcyA9IC9Dck9TLy50ZXN0KHVhKVxuICAgICAgLCBzaWxrID0gL3NpbGsvaS50ZXN0KHVhKVxuICAgICAgLCBzYWlsZmlzaCA9IC9zYWlsZmlzaC9pLnRlc3QodWEpXG4gICAgICAsIHRpemVuID0gL3RpemVuL2kudGVzdCh1YSlcbiAgICAgICwgd2Vib3MgPSAvKHdlYnxocHcpKG98MClzL2kudGVzdCh1YSlcbiAgICAgICwgd2luZG93c3Bob25lID0gL3dpbmRvd3MgcGhvbmUvaS50ZXN0KHVhKVxuICAgICAgLCBzYW1zdW5nQnJvd3NlciA9IC9TYW1zdW5nQnJvd3Nlci9pLnRlc3QodWEpXG4gICAgICAsIHdpbmRvd3MgPSAhd2luZG93c3Bob25lICYmIC93aW5kb3dzL2kudGVzdCh1YSlcbiAgICAgICwgbWFjID0gIWlvc2RldmljZSAmJiAhc2lsayAmJiAvbWFjaW50b3NoL2kudGVzdCh1YSlcbiAgICAgICwgbGludXggPSAhYW5kcm9pZCAmJiAhc2FpbGZpc2ggJiYgIXRpemVuICYmICF3ZWJvcyAmJiAvbGludXgvaS50ZXN0KHVhKVxuICAgICAgLCBlZGdlVmVyc2lvbiA9IGdldFNlY29uZE1hdGNoKC9lZGcoW2VhXXxpb3MpXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgLCB2ZXJzaW9uSWRlbnRpZmllciA9IGdldEZpcnN0TWF0Y2goL3ZlcnNpb25cXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICAsIHRhYmxldCA9IC90YWJsZXQvaS50ZXN0KHVhKSAmJiAhL3RhYmxldCBwYy9pLnRlc3QodWEpXG4gICAgICAsIG1vYmlsZSA9ICF0YWJsZXQgJiYgL1teLV1tb2JpL2kudGVzdCh1YSlcbiAgICAgICwgeGJveCA9IC94Ym94L2kudGVzdCh1YSlcbiAgICAgICwgcmVzdWx0XG5cbiAgICBpZiAoL29wZXJhL2kudGVzdCh1YSkpIHtcbiAgICAgIC8vICBhbiBvbGQgT3BlcmFcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ09wZXJhJ1xuICAgICAgLCBvcGVyYTogdFxuICAgICAgLCB2ZXJzaW9uOiB2ZXJzaW9uSWRlbnRpZmllciB8fCBnZXRGaXJzdE1hdGNoKC8oPzpvcGVyYXxvcHJ8b3Bpb3MpW1xcc1xcL10oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgvb3ByXFwvfG9waW9zL2kudGVzdCh1YSkpIHtcbiAgICAgIC8vIGEgbmV3IE9wZXJhXG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdPcGVyYSdcbiAgICAgICAgLCBvcGVyYTogdFxuICAgICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goLyg/Om9wcnxvcGlvcylbXFxzXFwvXShcXGQrKFxcLlxcZCspPykvaSkgfHwgdmVyc2lvbklkZW50aWZpZXJcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL1NhbXN1bmdCcm93c2VyL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ1NhbXN1bmcgSW50ZXJuZXQgZm9yIEFuZHJvaWQnXG4gICAgICAgICwgc2Ftc3VuZ0Jyb3dzZXI6IHRcbiAgICAgICAgLCB2ZXJzaW9uOiB2ZXJzaW9uSWRlbnRpZmllciB8fCBnZXRGaXJzdE1hdGNoKC8oPzpTYW1zdW5nQnJvd3NlcilbXFxzXFwvXShcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL1doYWxlL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ05BVkVSIFdoYWxlIGJyb3dzZXInXG4gICAgICAgICwgd2hhbGU6IHRcbiAgICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzp3aGFsZSlbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvTVpCcm93c2VyL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ01aIEJyb3dzZXInXG4gICAgICAgICwgbXpicm93c2VyOiB0XG4gICAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86TVpCcm93c2VyKVtcXHNcXC9dKFxcZCsoPzpcXC5cXGQrKSspL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9jb2FzdC9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdPcGVyYSBDb2FzdCdcbiAgICAgICAgLCBjb2FzdDogdFxuICAgICAgICAsIHZlcnNpb246IHZlcnNpb25JZGVudGlmaWVyIHx8IGdldEZpcnN0TWF0Y2goLyg/OmNvYXN0KVtcXHNcXC9dKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvZm9jdXMvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnRm9jdXMnXG4gICAgICAgICwgZm9jdXM6IHRcbiAgICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzpmb2N1cylbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgveWFicm93c2VyL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ1lhbmRleCBCcm93c2VyJ1xuICAgICAgLCB5YW5kZXhicm93c2VyOiB0XG4gICAgICAsIHZlcnNpb246IHZlcnNpb25JZGVudGlmaWVyIHx8IGdldEZpcnN0TWF0Y2goLyg/OnlhYnJvd3NlcilbXFxzXFwvXShcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL3VjYnJvd3Nlci9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgbmFtZTogJ1VDIEJyb3dzZXInXG4gICAgICAgICwgdWNicm93c2VyOiB0XG4gICAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86dWNicm93c2VyKVtcXHNcXC9dKFxcZCsoPzpcXC5cXGQrKSspL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9teGlvcy9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdNYXh0aG9uJ1xuICAgICAgICAsIG1heHRob246IHRcbiAgICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzpteGlvcylbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvZXBpcGhhbnkvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnRXBpcGhhbnknXG4gICAgICAgICwgZXBpcGhhbnk6IHRcbiAgICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzplcGlwaGFueSlbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvcHVmZmluL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ1B1ZmZpbidcbiAgICAgICAgLCBwdWZmaW46IHRcbiAgICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzpwdWZmaW4pW1xcc1xcL10oXFxkKyg/OlxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL3NsZWlwbmlyL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ1NsZWlwbmlyJ1xuICAgICAgICAsIHNsZWlwbmlyOiB0XG4gICAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86c2xlaXBuaXIpW1xcc1xcL10oXFxkKyg/OlxcLlxcZCspKykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL2stbWVsZW9uL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ0stTWVsZW9uJ1xuICAgICAgICAsIGtNZWxlb246IHRcbiAgICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzprLW1lbGVvbilbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh3aW5kb3dzcGhvbmUpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ1dpbmRvd3MgUGhvbmUnXG4gICAgICAsIG9zbmFtZTogJ1dpbmRvd3MgUGhvbmUnXG4gICAgICAsIHdpbmRvd3NwaG9uZTogdFxuICAgICAgfVxuICAgICAgaWYgKGVkZ2VWZXJzaW9uKSB7XG4gICAgICAgIHJlc3VsdC5tc2VkZ2UgPSB0XG4gICAgICAgIHJlc3VsdC52ZXJzaW9uID0gZWRnZVZlcnNpb25cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQubXNpZSA9IHRcbiAgICAgICAgcmVzdWx0LnZlcnNpb24gPSBnZXRGaXJzdE1hdGNoKC9pZW1vYmlsZVxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL21zaWV8dHJpZGVudC9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdJbnRlcm5ldCBFeHBsb3JlcidcbiAgICAgICwgbXNpZTogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzptc2llIHxydjopKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2hyb21lb3MpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ0Nocm9tZSdcbiAgICAgICwgb3NuYW1lOiAnQ2hyb21lIE9TJ1xuICAgICAgLCBjaHJvbWVvczogdFxuICAgICAgLCBjaHJvbWVCb29rOiB0XG4gICAgICAsIGNocm9tZTogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzpjaHJvbWV8Y3Jpb3N8Y3JtbylcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgvZWRnKFtlYV18aW9zKS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdNaWNyb3NvZnQgRWRnZSdcbiAgICAgICwgbXNlZGdlOiB0XG4gICAgICAsIHZlcnNpb246IGVkZ2VWZXJzaW9uXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC92aXZhbGRpL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ1ZpdmFsZGknXG4gICAgICAgICwgdml2YWxkaTogdFxuICAgICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goL3ZpdmFsZGlcXC8oXFxkKyhcXC5cXGQrKT8pL2kpIHx8IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHNhaWxmaXNoKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdTYWlsZmlzaCdcbiAgICAgICwgb3NuYW1lOiAnU2FpbGZpc2ggT1MnXG4gICAgICAsIHNhaWxmaXNoOiB0XG4gICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goL3NhaWxmaXNoXFxzP2Jyb3dzZXJcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9zZWFtb25rZXlcXC8vaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnU2VhTW9ua2V5J1xuICAgICAgLCBzZWFtb25rZXk6IHRcbiAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvc2VhbW9ua2V5XFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvZmlyZWZveHxpY2V3ZWFzZWx8Znhpb3MvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnRmlyZWZveCdcbiAgICAgICwgZmlyZWZveDogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzpmaXJlZm94fGljZXdlYXNlbHxmeGlvcylbIFxcL10oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgICBpZiAoL1xcKChtb2JpbGV8dGFibGV0KTtbXlxcKV0qcnY6W1xcZFxcLl0rXFwpL2kudGVzdCh1YSkpIHtcbiAgICAgICAgcmVzdWx0LmZpcmVmb3hvcyA9IHRcbiAgICAgICAgcmVzdWx0Lm9zbmFtZSA9ICdGaXJlZm94IE9TJ1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChzaWxrKSB7XG4gICAgICByZXN1bHQgPSAge1xuICAgICAgICBuYW1lOiAnQW1hem9uIFNpbGsnXG4gICAgICAsIHNpbGs6IHRcbiAgICAgICwgdmVyc2lvbiA6IGdldEZpcnN0TWF0Y2goL3NpbGtcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9waGFudG9tL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ1BoYW50b21KUydcbiAgICAgICwgcGhhbnRvbTogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC9waGFudG9tanNcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9zbGltZXJqcy9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdTbGltZXJKUydcbiAgICAgICAgLCBzbGltZXI6IHRcbiAgICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC9zbGltZXJqc1xcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL2JsYWNrYmVycnl8XFxiYmJcXGQrL2kudGVzdCh1YSkgfHwgL3JpbVxcc3RhYmxldC9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdCbGFja0JlcnJ5J1xuICAgICAgLCBvc25hbWU6ICdCbGFja0JlcnJ5IE9TJ1xuICAgICAgLCBibGFja2JlcnJ5OiB0XG4gICAgICAsIHZlcnNpb246IHZlcnNpb25JZGVudGlmaWVyIHx8IGdldEZpcnN0TWF0Y2goL2JsYWNrYmVycnlbXFxkXStcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHdlYm9zKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdXZWJPUydcbiAgICAgICwgb3NuYW1lOiAnV2ViT1MnXG4gICAgICAsIHdlYm9zOiB0XG4gICAgICAsIHZlcnNpb246IHZlcnNpb25JZGVudGlmaWVyIHx8IGdldEZpcnN0TWF0Y2goL3coPzplYik/b3Nicm93c2VyXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfTtcbiAgICAgIC90b3VjaHBhZFxcLy9pLnRlc3QodWEpICYmIChyZXN1bHQudG91Y2hwYWQgPSB0KVxuICAgIH1cbiAgICBlbHNlIGlmICgvYmFkYS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdCYWRhJ1xuICAgICAgLCBvc25hbWU6ICdCYWRhJ1xuICAgICAgLCBiYWRhOiB0XG4gICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goL2RvbGZpblxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHRpemVuKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdUaXplbidcbiAgICAgICwgb3NuYW1lOiAnVGl6ZW4nXG4gICAgICAsIHRpemVuOiB0XG4gICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goLyg/OnRpemVuXFxzPyk/YnJvd3NlclxcLyhcXGQrKFxcLlxcZCspPykvaSkgfHwgdmVyc2lvbklkZW50aWZpZXJcbiAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKC9xdXB6aWxsYS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdRdXBaaWxsYSdcbiAgICAgICAgLCBxdXB6aWxsYTogdFxuICAgICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goLyg/OnF1cHppbGxhKVtcXHNcXC9dKFxcZCsoPzpcXC5cXGQrKSspL2kpIHx8IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9jaHJvbWl1bS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdDaHJvbWl1bSdcbiAgICAgICAgLCBjaHJvbWl1bTogdFxuICAgICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goLyg/OmNocm9taXVtKVtcXHNcXC9dKFxcZCsoPzpcXC5cXGQrKT8pL2kpIHx8IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9jaHJvbWV8Y3Jpb3N8Y3Jtby9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdDaHJvbWUnXG4gICAgICAgICwgY2hyb21lOiB0XG4gICAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86Y2hyb21lfGNyaW9zfGNybW8pXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhbmRyb2lkKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdBbmRyb2lkJ1xuICAgICAgICAsIHZlcnNpb246IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9zYWZhcml8YXBwbGV3ZWJraXQvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnU2FmYXJpJ1xuICAgICAgLCBzYWZhcmk6IHRcbiAgICAgIH1cbiAgICAgIGlmICh2ZXJzaW9uSWRlbnRpZmllcikge1xuICAgICAgICByZXN1bHQudmVyc2lvbiA9IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlvc2RldmljZSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lIDogaW9zZGV2aWNlID09ICdpcGhvbmUnID8gJ2lQaG9uZScgOiBpb3NkZXZpY2UgPT0gJ2lwYWQnID8gJ2lQYWQnIDogJ2lQb2QnXG4gICAgICB9XG4gICAgICAvLyBXVEY6IHZlcnNpb24gaXMgbm90IHBhcnQgb2YgdXNlciBhZ2VudCBpbiB3ZWIgYXBwc1xuICAgICAgaWYgKHZlcnNpb25JZGVudGlmaWVyKSB7XG4gICAgICAgIHJlc3VsdC52ZXJzaW9uID0gdmVyc2lvbklkZW50aWZpZXJcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZigvZ29vZ2xlYm90L2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ0dvb2dsZWJvdCdcbiAgICAgICwgZ29vZ2xlYm90OiB0XG4gICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goL2dvb2dsZWJvdFxcLyhcXGQrKFxcLlxcZCspKS9pKSB8fCB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogZ2V0Rmlyc3RNYXRjaCgvXiguKilcXC8oLiopIC8pLFxuICAgICAgICB2ZXJzaW9uOiBnZXRTZWNvbmRNYXRjaCgvXiguKilcXC8oLiopIC8pXG4gICAgIH07XG4gICB9XG5cbiAgICAvLyBzZXQgd2Via2l0IG9yIGdlY2tvIGZsYWcgZm9yIGJyb3dzZXJzIGJhc2VkIG9uIHRoZXNlIGVuZ2luZXNcbiAgICBpZiAoIXJlc3VsdC5tc2VkZ2UgJiYgLyhhcHBsZSk/d2Via2l0L2kudGVzdCh1YSkpIHtcbiAgICAgIGlmICgvKGFwcGxlKT93ZWJraXRcXC81MzdcXC4zNi9pLnRlc3QodWEpKSB7XG4gICAgICAgIHJlc3VsdC5uYW1lID0gcmVzdWx0Lm5hbWUgfHwgXCJCbGlua1wiXG4gICAgICAgIHJlc3VsdC5ibGluayA9IHRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5uYW1lID0gcmVzdWx0Lm5hbWUgfHwgXCJXZWJraXRcIlxuICAgICAgICByZXN1bHQud2Via2l0ID0gdFxuICAgICAgfVxuICAgICAgaWYgKCFyZXN1bHQudmVyc2lvbiAmJiB2ZXJzaW9uSWRlbnRpZmllcikge1xuICAgICAgICByZXN1bHQudmVyc2lvbiA9IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghcmVzdWx0Lm9wZXJhICYmIC9nZWNrb1xcLy9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQubmFtZSA9IHJlc3VsdC5uYW1lIHx8IFwiR2Vja29cIlxuICAgICAgcmVzdWx0LmdlY2tvID0gdFxuICAgICAgcmVzdWx0LnZlcnNpb24gPSByZXN1bHQudmVyc2lvbiB8fCBnZXRGaXJzdE1hdGNoKC9nZWNrb1xcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICB9XG5cbiAgICAvLyBzZXQgT1MgZmxhZ3MgZm9yIHBsYXRmb3JtcyB0aGF0IGhhdmUgbXVsdGlwbGUgYnJvd3NlcnNcbiAgICBpZiAoIXJlc3VsdC53aW5kb3dzcGhvbmUgJiYgKGFuZHJvaWQgfHwgcmVzdWx0LnNpbGspKSB7XG4gICAgICByZXN1bHQuYW5kcm9pZCA9IHRcbiAgICAgIHJlc3VsdC5vc25hbWUgPSAnQW5kcm9pZCdcbiAgICB9IGVsc2UgaWYgKCFyZXN1bHQud2luZG93c3Bob25lICYmIGlvc2RldmljZSkge1xuICAgICAgcmVzdWx0W2lvc2RldmljZV0gPSB0XG4gICAgICByZXN1bHQuaW9zID0gdFxuICAgICAgcmVzdWx0Lm9zbmFtZSA9ICdpT1MnXG4gICAgfSBlbHNlIGlmIChtYWMpIHtcbiAgICAgIHJlc3VsdC5tYWMgPSB0XG4gICAgICByZXN1bHQub3NuYW1lID0gJ21hY09TJ1xuICAgIH0gZWxzZSBpZiAoeGJveCkge1xuICAgICAgcmVzdWx0Lnhib3ggPSB0XG4gICAgICByZXN1bHQub3NuYW1lID0gJ1hib3gnXG4gICAgfSBlbHNlIGlmICh3aW5kb3dzKSB7XG4gICAgICByZXN1bHQud2luZG93cyA9IHRcbiAgICAgIHJlc3VsdC5vc25hbWUgPSAnV2luZG93cydcbiAgICB9IGVsc2UgaWYgKGxpbnV4KSB7XG4gICAgICByZXN1bHQubGludXggPSB0XG4gICAgICByZXN1bHQub3NuYW1lID0gJ0xpbnV4J1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFdpbmRvd3NWZXJzaW9uIChzKSB7XG4gICAgICBzd2l0Y2ggKHMpIHtcbiAgICAgICAgY2FzZSAnTlQnOiByZXR1cm4gJ05UJ1xuICAgICAgICBjYXNlICdYUCc6IHJldHVybiAnWFAnXG4gICAgICAgIGNhc2UgJ05UIDUuMCc6IHJldHVybiAnMjAwMCdcbiAgICAgICAgY2FzZSAnTlQgNS4xJzogcmV0dXJuICdYUCdcbiAgICAgICAgY2FzZSAnTlQgNS4yJzogcmV0dXJuICcyMDAzJ1xuICAgICAgICBjYXNlICdOVCA2LjAnOiByZXR1cm4gJ1Zpc3RhJ1xuICAgICAgICBjYXNlICdOVCA2LjEnOiByZXR1cm4gJzcnXG4gICAgICAgIGNhc2UgJ05UIDYuMic6IHJldHVybiAnOCdcbiAgICAgICAgY2FzZSAnTlQgNi4zJzogcmV0dXJuICc4LjEnXG4gICAgICAgIGNhc2UgJ05UIDEwLjAnOiByZXR1cm4gJzEwJ1xuICAgICAgICBkZWZhdWx0OiByZXR1cm4gdW5kZWZpbmVkXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gT1MgdmVyc2lvbiBleHRyYWN0aW9uXG4gICAgdmFyIG9zVmVyc2lvbiA9ICcnO1xuICAgIGlmIChyZXN1bHQud2luZG93cykge1xuICAgICAgb3NWZXJzaW9uID0gZ2V0V2luZG93c1ZlcnNpb24oZ2V0Rmlyc3RNYXRjaCgvV2luZG93cyAoKE5UfFhQKSggXFxkXFxkPy5cXGQpPykvaSkpXG4gICAgfSBlbHNlIGlmIChyZXN1bHQud2luZG93c3Bob25lKSB7XG4gICAgICBvc1ZlcnNpb24gPSBnZXRGaXJzdE1hdGNoKC93aW5kb3dzIHBob25lICg/Om9zKT9cXHM/KFxcZCsoXFwuXFxkKykqKS9pKTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC5tYWMpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL01hYyBPUyBYIChcXGQrKFtfXFwuXFxzXVxcZCspKikvaSk7XG4gICAgICBvc1ZlcnNpb24gPSBvc1ZlcnNpb24ucmVwbGFjZSgvW19cXHNdL2csICcuJyk7XG4gICAgfSBlbHNlIGlmIChpb3NkZXZpY2UpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL29zIChcXGQrKFtfXFxzXVxcZCspKikgbGlrZSBtYWMgb3MgeC9pKTtcbiAgICAgIG9zVmVyc2lvbiA9IG9zVmVyc2lvbi5yZXBsYWNlKC9bX1xcc10vZywgJy4nKTtcbiAgICB9IGVsc2UgaWYgKGFuZHJvaWQpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL2FuZHJvaWRbIFxcLy1dKFxcZCsoXFwuXFxkKykqKS9pKTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC53ZWJvcykge1xuICAgICAgb3NWZXJzaW9uID0gZ2V0Rmlyc3RNYXRjaCgvKD86d2VifGhwdylvc1xcLyhcXGQrKFxcLlxcZCspKikvaSk7XG4gICAgfSBlbHNlIGlmIChyZXN1bHQuYmxhY2tiZXJyeSkge1xuICAgICAgb3NWZXJzaW9uID0gZ2V0Rmlyc3RNYXRjaCgvcmltXFxzdGFibGV0XFxzb3NcXHMoXFxkKyhcXC5cXGQrKSopL2kpO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0LmJhZGEpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL2JhZGFcXC8oXFxkKyhcXC5cXGQrKSopL2kpO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0LnRpemVuKSB7XG4gICAgICBvc1ZlcnNpb24gPSBnZXRGaXJzdE1hdGNoKC90aXplbltcXC9cXHNdKFxcZCsoXFwuXFxkKykqKS9pKTtcbiAgICB9XG4gICAgaWYgKG9zVmVyc2lvbikge1xuICAgICAgcmVzdWx0Lm9zdmVyc2lvbiA9IG9zVmVyc2lvbjtcbiAgICB9XG5cbiAgICAvLyBkZXZpY2UgdHlwZSBleHRyYWN0aW9uXG4gICAgdmFyIG9zTWFqb3JWZXJzaW9uID0gIXJlc3VsdC53aW5kb3dzICYmIG9zVmVyc2lvbi5zcGxpdCgnLicpWzBdO1xuICAgIGlmIChcbiAgICAgICAgIHRhYmxldFxuICAgICAgfHwgbmV4dXNUYWJsZXRcbiAgICAgIHx8IGlvc2RldmljZSA9PSAnaXBhZCdcbiAgICAgIHx8IChhbmRyb2lkICYmIChvc01ham9yVmVyc2lvbiA9PSAzIHx8IChvc01ham9yVmVyc2lvbiA+PSA0ICYmICFtb2JpbGUpKSlcbiAgICAgIHx8IHJlc3VsdC5zaWxrXG4gICAgKSB7XG4gICAgICByZXN1bHQudGFibGV0ID0gdFxuICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICBtb2JpbGVcbiAgICAgIHx8IGlvc2RldmljZSA9PSAnaXBob25lJ1xuICAgICAgfHwgaW9zZGV2aWNlID09ICdpcG9kJ1xuICAgICAgfHwgYW5kcm9pZFxuICAgICAgfHwgbmV4dXNNb2JpbGVcbiAgICAgIHx8IHJlc3VsdC5ibGFja2JlcnJ5XG4gICAgICB8fCByZXN1bHQud2Vib3NcbiAgICAgIHx8IHJlc3VsdC5iYWRhXG4gICAgKSB7XG4gICAgICByZXN1bHQubW9iaWxlID0gdFxuICAgIH1cblxuICAgIC8vIEdyYWRlZCBCcm93c2VyIFN1cHBvcnRcbiAgICAvLyBodHRwOi8vZGV2ZWxvcGVyLnlhaG9vLmNvbS95dWkvYXJ0aWNsZXMvZ2JzXG4gICAgaWYgKHJlc3VsdC5tc2VkZ2UgfHxcbiAgICAgICAgKHJlc3VsdC5tc2llICYmIHJlc3VsdC52ZXJzaW9uID49IDEwKSB8fFxuICAgICAgICAocmVzdWx0LnlhbmRleGJyb3dzZXIgJiYgcmVzdWx0LnZlcnNpb24gPj0gMTUpIHx8XG5cdFx0ICAgIChyZXN1bHQudml2YWxkaSAmJiByZXN1bHQudmVyc2lvbiA+PSAxLjApIHx8XG4gICAgICAgIChyZXN1bHQuY2hyb21lICYmIHJlc3VsdC52ZXJzaW9uID49IDIwKSB8fFxuICAgICAgICAocmVzdWx0LnNhbXN1bmdCcm93c2VyICYmIHJlc3VsdC52ZXJzaW9uID49IDQpIHx8XG4gICAgICAgIChyZXN1bHQud2hhbGUgJiYgY29tcGFyZVZlcnNpb25zKFtyZXN1bHQudmVyc2lvbiwgJzEuMCddKSA9PT0gMSkgfHxcbiAgICAgICAgKHJlc3VsdC5temJyb3dzZXIgJiYgY29tcGFyZVZlcnNpb25zKFtyZXN1bHQudmVyc2lvbiwgJzYuMCddKSA9PT0gMSkgfHxcbiAgICAgICAgKHJlc3VsdC5mb2N1cyAmJiBjb21wYXJlVmVyc2lvbnMoW3Jlc3VsdC52ZXJzaW9uLCAnMS4wJ10pID09PSAxKSB8fFxuICAgICAgICAocmVzdWx0LmZpcmVmb3ggJiYgcmVzdWx0LnZlcnNpb24gPj0gMjAuMCkgfHxcbiAgICAgICAgKHJlc3VsdC5zYWZhcmkgJiYgcmVzdWx0LnZlcnNpb24gPj0gNikgfHxcbiAgICAgICAgKHJlc3VsdC5vcGVyYSAmJiByZXN1bHQudmVyc2lvbiA+PSAxMC4wKSB8fFxuICAgICAgICAocmVzdWx0LmlvcyAmJiByZXN1bHQub3N2ZXJzaW9uICYmIHJlc3VsdC5vc3ZlcnNpb24uc3BsaXQoXCIuXCIpWzBdID49IDYpIHx8XG4gICAgICAgIChyZXN1bHQuYmxhY2tiZXJyeSAmJiByZXN1bHQudmVyc2lvbiA+PSAxMC4xKVxuICAgICAgICB8fCAocmVzdWx0LmNocm9taXVtICYmIHJlc3VsdC52ZXJzaW9uID49IDIwKVxuICAgICAgICApIHtcbiAgICAgIHJlc3VsdC5hID0gdDtcbiAgICB9XG4gICAgZWxzZSBpZiAoKHJlc3VsdC5tc2llICYmIHJlc3VsdC52ZXJzaW9uIDwgMTApIHx8XG4gICAgICAgIChyZXN1bHQuY2hyb21lICYmIHJlc3VsdC52ZXJzaW9uIDwgMjApIHx8XG4gICAgICAgIChyZXN1bHQuZmlyZWZveCAmJiByZXN1bHQudmVyc2lvbiA8IDIwLjApIHx8XG4gICAgICAgIChyZXN1bHQuc2FmYXJpICYmIHJlc3VsdC52ZXJzaW9uIDwgNikgfHxcbiAgICAgICAgKHJlc3VsdC5vcGVyYSAmJiByZXN1bHQudmVyc2lvbiA8IDEwLjApIHx8XG4gICAgICAgIChyZXN1bHQuaW9zICYmIHJlc3VsdC5vc3ZlcnNpb24gJiYgcmVzdWx0Lm9zdmVyc2lvbi5zcGxpdChcIi5cIilbMF0gPCA2KVxuICAgICAgICB8fCAocmVzdWx0LmNocm9taXVtICYmIHJlc3VsdC52ZXJzaW9uIDwgMjApXG4gICAgICAgICkge1xuICAgICAgcmVzdWx0LmMgPSB0XG4gICAgfSBlbHNlIHJlc3VsdC54ID0gdFxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgdmFyIGJvd3NlciA9IGRldGVjdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyA/IG5hdmlnYXRvci51c2VyQWdlbnQgfHwgJycgOiAnJylcblxuICBib3dzZXIudGVzdCA9IGZ1bmN0aW9uIChicm93c2VyTGlzdCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnJvd3Nlckxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBicm93c2VySXRlbSA9IGJyb3dzZXJMaXN0W2ldO1xuICAgICAgaWYgKHR5cGVvZiBicm93c2VySXRlbT09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoYnJvd3Nlckl0ZW0gaW4gYm93c2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB2ZXJzaW9uIHByZWNpc2lvbnMgY291bnRcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogICBnZXRWZXJzaW9uUHJlY2lzaW9uKFwiMS4xMC4zXCIpIC8vIDNcbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSB2ZXJzaW9uXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZlcnNpb25QcmVjaXNpb24odmVyc2lvbikge1xuICAgIHJldHVybiB2ZXJzaW9uLnNwbGl0KFwiLlwiKS5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogQXJyYXk6Om1hcCBwb2x5ZmlsbFxuICAgKlxuICAgKiBAcGFyYW0gIHtBcnJheX0gYXJyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBpdGVyYXRvclxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIGZ1bmN0aW9uIG1hcChhcnIsIGl0ZXJhdG9yKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdLCBpO1xuICAgIGlmIChBcnJheS5wcm90b3R5cGUubWFwKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGFyciwgaXRlcmF0b3IpO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHQucHVzaChpdGVyYXRvcihhcnJbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgYnJvd3NlciB2ZXJzaW9uIHdlaWdodFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAgIGNvbXBhcmVWZXJzaW9ucyhbJzEuMTAuMi4xJywgICcxLjguMi4xLjkwJ10pICAgIC8vIDFcbiAgICogICBjb21wYXJlVmVyc2lvbnMoWycxLjAxMC4yLjEnLCAnMS4wOS4yLjEuOTAnXSk7ICAvLyAxXG4gICAqICAgY29tcGFyZVZlcnNpb25zKFsnMS4xMC4yLjEnLCAgJzEuMTAuMi4xJ10pOyAgICAgLy8gMFxuICAgKiAgIGNvbXBhcmVWZXJzaW9ucyhbJzEuMTAuMi4xJywgICcxLjA4MDAuMiddKTsgICAgIC8vIC0xXG4gICAqXG4gICAqIEBwYXJhbSAge0FycmF5PFN0cmluZz59IHZlcnNpb25zIHZlcnNpb25zIHRvIGNvbXBhcmVcbiAgICogQHJldHVybiB7TnVtYmVyfSBjb21wYXJpc29uIHJlc3VsdFxuICAgKi9cbiAgZnVuY3Rpb24gY29tcGFyZVZlcnNpb25zKHZlcnNpb25zKSB7XG4gICAgLy8gMSkgZ2V0IGNvbW1vbiBwcmVjaXNpb24gZm9yIGJvdGggdmVyc2lvbnMsIGZvciBleGFtcGxlIGZvciBcIjEwLjBcIiBhbmQgXCI5XCIgaXQgc2hvdWxkIGJlIDJcbiAgICB2YXIgcHJlY2lzaW9uID0gTWF0aC5tYXgoZ2V0VmVyc2lvblByZWNpc2lvbih2ZXJzaW9uc1swXSksIGdldFZlcnNpb25QcmVjaXNpb24odmVyc2lvbnNbMV0pKTtcbiAgICB2YXIgY2h1bmtzID0gbWFwKHZlcnNpb25zLCBmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgdmFyIGRlbHRhID0gcHJlY2lzaW9uIC0gZ2V0VmVyc2lvblByZWNpc2lvbih2ZXJzaW9uKTtcblxuICAgICAgLy8gMikgXCI5XCIgLT4gXCI5LjBcIiAoZm9yIHByZWNpc2lvbiA9IDIpXG4gICAgICB2ZXJzaW9uID0gdmVyc2lvbiArIG5ldyBBcnJheShkZWx0YSArIDEpLmpvaW4oXCIuMFwiKTtcblxuICAgICAgLy8gMykgXCI5LjBcIiAtPiBbXCIwMDAwMDAwMDBcIlwiLCBcIjAwMDAwMDAwOVwiXVxuICAgICAgcmV0dXJuIG1hcCh2ZXJzaW9uLnNwbGl0KFwiLlwiKSwgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXkoMjAgLSBjaHVuay5sZW5ndGgpLmpvaW4oXCIwXCIpICsgY2h1bms7XG4gICAgICB9KS5yZXZlcnNlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBpdGVyYXRlIGluIHJldmVyc2Ugb3JkZXIgYnkgcmV2ZXJzZWQgY2h1bmtzIGFycmF5XG4gICAgd2hpbGUgKC0tcHJlY2lzaW9uID49IDApIHtcbiAgICAgIC8vIDQpIGNvbXBhcmU6IFwiMDAwMDAwMDA5XCIgPiBcIjAwMDAwMDAxMFwiID0gZmFsc2UgKGJ1dCBcIjlcIiA+IFwiMTBcIiA9IHRydWUpXG4gICAgICBpZiAoY2h1bmtzWzBdW3ByZWNpc2lvbl0gPiBjaHVua3NbMV1bcHJlY2lzaW9uXSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGNodW5rc1swXVtwcmVjaXNpb25dID09PSBjaHVua3NbMV1bcHJlY2lzaW9uXSkge1xuICAgICAgICBpZiAocHJlY2lzaW9uID09PSAwKSB7XG4gICAgICAgICAgLy8gYWxsIHZlcnNpb24gY2h1bmtzIGFyZSBzYW1lXG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGJyb3dzZXIgaXMgdW5zdXBwb3J0ZWRcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogICBib3dzZXIuaXNVbnN1cHBvcnRlZEJyb3dzZXIoe1xuICAgKiAgICAgbXNpZTogXCIxMFwiLFxuICAgKiAgICAgZmlyZWZveDogXCIyM1wiLFxuICAgKiAgICAgY2hyb21lOiBcIjI5XCIsXG4gICAqICAgICBzYWZhcmk6IFwiNS4xXCIsXG4gICAqICAgICBvcGVyYTogXCIxNlwiLFxuICAgKiAgICAgcGhhbnRvbTogXCI1MzRcIlxuICAgKiAgIH0pO1xuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBtaW5WZXJzaW9ucyBtYXAgb2YgbWluaW1hbCB2ZXJzaW9uIHRvIGJyb3dzZXJcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gW3N0cmljdE1vZGUgPSBmYWxzZV0gZmxhZyB0byByZXR1cm4gZmFsc2UgaWYgYnJvd3NlciB3YXNuJ3QgZm91bmQgaW4gbWFwXG4gICAqIEBwYXJhbSAge1N0cmluZ30gIFt1YV0gdXNlciBhZ2VudCBzdHJpbmdcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG4gIGZ1bmN0aW9uIGlzVW5zdXBwb3J0ZWRCcm93c2VyKG1pblZlcnNpb25zLCBzdHJpY3RNb2RlLCB1YSkge1xuICAgIHZhciBfYm93c2VyID0gYm93c2VyO1xuXG4gICAgLy8gbWFrZSBzdHJpY3RNb2RlIHBhcmFtIG9wdGlvbmFsIHdpdGggdWEgcGFyYW0gdXNhZ2VcbiAgICBpZiAodHlwZW9mIHN0cmljdE1vZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB1YSA9IHN0cmljdE1vZGU7XG4gICAgICBzdHJpY3RNb2RlID0gdm9pZCgwKTtcbiAgICB9XG5cbiAgICBpZiAoc3RyaWN0TW9kZSA9PT0gdm9pZCgwKSkge1xuICAgICAgc3RyaWN0TW9kZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodWEpIHtcbiAgICAgIF9ib3dzZXIgPSBkZXRlY3QodWEpO1xuICAgIH1cblxuICAgIHZhciB2ZXJzaW9uID0gXCJcIiArIF9ib3dzZXIudmVyc2lvbjtcbiAgICBmb3IgKHZhciBicm93c2VyIGluIG1pblZlcnNpb25zKSB7XG4gICAgICBpZiAobWluVmVyc2lvbnMuaGFzT3duUHJvcGVydHkoYnJvd3NlcikpIHtcbiAgICAgICAgaWYgKF9ib3dzZXJbYnJvd3Nlcl0pIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG1pblZlcnNpb25zW2Jyb3dzZXJdICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcm93c2VyIHZlcnNpb24gaW4gdGhlIG1pblZlcnNpb24gbWFwIHNob3VsZCBiZSBhIHN0cmluZzogJyArIGJyb3dzZXIgKyAnOiAnICsgU3RyaW5nKG1pblZlcnNpb25zKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gYnJvd3NlciB2ZXJzaW9uIGFuZCBtaW4gc3VwcG9ydGVkIHZlcnNpb24uXG4gICAgICAgICAgcmV0dXJuIGNvbXBhcmVWZXJzaW9ucyhbdmVyc2lvbiwgbWluVmVyc2lvbnNbYnJvd3Nlcl1dKSA8IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RyaWN0TW9kZTsgLy8gbm90IGZvdW5kXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYnJvd3NlciBpcyBzdXBwb3J0ZWRcbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSBtaW5WZXJzaW9ucyBtYXAgb2YgbWluaW1hbCB2ZXJzaW9uIHRvIGJyb3dzZXJcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gW3N0cmljdE1vZGUgPSBmYWxzZV0gZmxhZyB0byByZXR1cm4gZmFsc2UgaWYgYnJvd3NlciB3YXNuJ3QgZm91bmQgaW4gbWFwXG4gICAqIEBwYXJhbSAge1N0cmluZ30gIFt1YV0gdXNlciBhZ2VudCBzdHJpbmdcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG4gIGZ1bmN0aW9uIGNoZWNrKG1pblZlcnNpb25zLCBzdHJpY3RNb2RlLCB1YSkge1xuICAgIHJldHVybiAhaXNVbnN1cHBvcnRlZEJyb3dzZXIobWluVmVyc2lvbnMsIHN0cmljdE1vZGUsIHVhKTtcbiAgfVxuXG4gIGJvd3Nlci5pc1Vuc3VwcG9ydGVkQnJvd3NlciA9IGlzVW5zdXBwb3J0ZWRCcm93c2VyO1xuICBib3dzZXIuY29tcGFyZVZlcnNpb25zID0gY29tcGFyZVZlcnNpb25zO1xuICBib3dzZXIuY2hlY2sgPSBjaGVjaztcblxuICAvKlxuICAgKiBTZXQgb3VyIGRldGVjdCBtZXRob2QgdG8gdGhlIG1haW4gYm93c2VyIG9iamVjdCBzbyB3ZSBjYW5cbiAgICogcmV1c2UgaXQgdG8gdGVzdCBvdGhlciB1c2VyIGFnZW50cy5cbiAgICogVGhpcyBpcyBuZWVkZWQgdG8gaW1wbGVtZW50IGZ1dHVyZSB0ZXN0cy5cbiAgICovXG4gIGJvd3Nlci5fZGV0ZWN0ID0gZGV0ZWN0O1xuXG4gIC8qXG4gICAqIFNldCBvdXIgZGV0ZWN0IHB1YmxpYyBtZXRob2QgdG8gdGhlIG1haW4gYm93c2VyIG9iamVjdFxuICAgKiBUaGlzIGlzIG5lZWRlZCB0byBpbXBsZW1lbnQgYm93c2VyIGluIHNlcnZlciBzaWRlXG4gICAqL1xuICBib3dzZXIuZGV0ZWN0ID0gZGV0ZWN0O1xuICByZXR1cm4gYm93c2VyXG59KTtcbiIsImpRdWVyeSggZG9jdW1lbnQgKS5yZWFkeShmdW5jdGlvbiggJCApIHtcblx0Ly8gSW5zaWRlIG9mIHRoaXMgZnVuY3Rpb24sICQoKSB3aWxsIHdvcmsgYXMgYW4gYWxpYXMgZm9yIGpRdWVyeSgpXG5cdC8vIGFuZCBvdGhlciBsaWJyYXJpZXMgYWxzbyB1c2luZyAkIHdpbGwgbm90IGJlIGFjY2Vzc2libGUgdW5kZXIgdGhpcyBzaG9ydGN1dFxuXHQvLyBodHRwczovL2NvZGV4LndvcmRwcmVzcy5vcmcvRnVuY3Rpb25fUmVmZXJlbmNlL3dwX2VucXVldWVfc2NyaXB0I2pRdWVyeV9ub0NvbmZsaWN0X1dyYXBwZXJzXG5cblx0Ly8gVG91Y2ggRGV2aWNlIERldGVjdGlvblxuXHR2YXIgaXNUb3VjaERldmljZSA9ICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0aWYoIGlzVG91Y2hEZXZpY2UgKSB7XG5cdFx0JCgnYm9keScpLnJlbW92ZUNsYXNzKCduby10b3VjaCcpO1xuXHR9XG5cblx0Ly8gQnJvd3NlciBkZXRlY3Rpb24gdmlhIEJvd3NlciAoaHR0cHM6Ly9naXRodWIuY29tL2xhbmNlZGlrc29uL2Jvd3NlcikgLSBhZGQgZGV0ZWN0aW9uIGFzIG5lZWRlZFxuXHRpZiggYm93c2VyLm1zaWUgJiYgYm93c2VyLnZlcnNpb24gPT0gMTEgKSB7XG5cdFx0JCgnYm9keScpLmFkZENsYXNzKCdpZS0xMScpO1xuXHR9IGVsc2UgaWYgKCBib3dzZXIuc2FmYXJpICkge1xuXHRcdCQoJ2JvZHknKS5hZGRDbGFzcygnc2FmYXJpJyk7XG5cdH1cblxufSk7XG4iXX0=
